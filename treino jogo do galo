#include <iostream>
using namespace std;

struct Jogo{
    char jogada;
    bool ocupada = false;
};

Jogo galo[3][3]; //como se fosse uma tabela.

void mostrar() {
    cout << "======= JOGO DO GALO =======" << endl;
    cout << "     1     2     3" << endl;
    cout << "  -----------------" << endl;
    cout << "1 |  " << galo[0][0].jogada << "  |  " << galo[0][1].jogada << "  |  " << galo[0][2].jogada << "  |" << endl;
    cout << "  -----------------" << endl;
    cout << "2 |  " << galo[1][0].jogada << "  |  " << galo[1][1].jogada << "  |  " << galo[1][2].jogada << "  |" << endl;
    cout << "  -----------------" << endl;
    cout << "3 |  " << galo[2][0].jogada << "  |  " << galo[2][1].jogada << "  |  " << galo[2][2].jogada << "  |" << endl;
    cout << "  -----------------" << endl;
}


int main(){
    int coluna, linha;
    char pessoa;

    cout<<"Escolhe X ou 0"<<endl;
    cin>>pessoa;

    mostrar(); 
    for(int i = 0; i<=8;i++){ // percorre a tabela toda
    bool jogadaValida = false;
    while (!jogadaValida) { // vai pedir a linha e a coluna, verefica de jogada é valida, se for valida vai ser true.
        system("clear");
        mostrar(); 
        cout << "Escreve a linha (1-3) onde queres jogar: ";
        cin >> linha;
        cout << "Escreve a coluna (1-3) onde queres jogar: ";
        cin >> coluna;
    

    if (galo[linha - 1][coluna - 1].ocupada) { // verifica se a posição escolhida pelo jogador já está ocupada
        cout << "Essa posição já está ocupada. Tenta outra vez!" << endl;
        cout << "Pressiona ENTER para continuar...";
        cin.ignore(); // ele espera para alguem clicar enter
        cin.get(); // assim a pessoa ve a mensagem

    } else { // o primeiro vai aguardar dentro de um arry a pessoa que é X ou O e o segundo vai aguardar la dentro que é true.
        galo[linha - 1][coluna - 1].jogada = pessoa;
        galo[linha - 1][coluna - 1].ocupada = true;
        jogadaValida= true;
    }
}
    mostrar();
    if(pessoa == 'X'){
        pessoa = 'O';
    }else{
        pessoa = 'X';
    }
}
}
